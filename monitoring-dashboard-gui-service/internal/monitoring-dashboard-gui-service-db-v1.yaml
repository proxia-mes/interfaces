---
openapi: 3.0.2
info:
  title: Proxia MES Monitoring Dashboard GUI Service Database API
  description: Proxia MES Monitoring Dashboard GUI Service Database API
  version: '1.0.0'
servers:
  - url: "/proxia/mes/montoring-dashboard/gui-service/db/v1"
tags:
  - name: data
    description: Everything about dashboard gui data
paths:
  "/dummy":
    get:
      tags:
        - data
      summary: dummy endpoint
      responses:
        '200':
          description: OK
components:
  schemas:
    dashboard:
      type: object
      required:
        - id
        - name
        - widgets
      properties:
        id:
          type: number
          description: The id of a dashboard
          nullable: false
        name:
          type: string
          description: The name of a dashboard
          maxLength: 10
          minLength: 3
          nullable: false
        description:
          type: string
          description: The description of a dashboard
          maxLength: 255
          minLength: 0
          nullable: false
        widgets:
          type: array
          items:
            $ref: '#/components/schemas/widget'
          minItems: 0
          maxItems: 100
          nullable: false
    widget:
      type: object
      required: 
        - id
        - name
        - performance_indicator
        - resource
        - visualitation
      properties:
        id:
          type: number
          description: The id of a widget
          nullable: false
        name:
          type: string
          description: The name of a widget
          maxLength: 10
          minLength: 3
          nullable: false
        description:
          type: string
          description: The description of a widget
          maxLength: 255
          minLength: 0
          nullable: false
        performance_indicator:
          type: string
          description: The performance-indicator visualized by the widget
          enum:
            - 'RESOURCE_STATE'
            - 'RESOURCE_UTILIZATION'
            - 'TIMELINESS_ORDER_PLANNING'
          nullable: false
        resource:
          type: string
          description: The resource visualized by the widget
          enum:
            - 'MACHINE'
            - 'WORKPLACE'
            - 'PERSON'
          nullable: false
        time_period:
          type: string
          description: The time-period visualized by the widget
          enum:
            - 'LAST_5_MIN'
            - 'LAST_15_MIN'
            - 'LAST_30_MIN'
            - 'LAST_1_HOUR'
            - 'LAST_4_HOUR'
            - 'LAST_SHIFT'
            - 'WORKDAY'
            - 'WORKWEEK'
            - 'MONTH'
          nullable: false
        time_moment:
          type: string
          description: The time-moment visualized by the widget
          enum:
            - 'NOW'
            - 'CURRENT_SHIFT_START'
            - 'CURRENT_SHIFT_STOP'
            - 'LAST_SHIFT_START'
            - 'LAST_SHIFT_STOP'
            - 'PENULTIMATE_SHIFT_START'
            - 'PENULTIMATE_SHIFT_STOP'
          nullable: false
        visualitation:
          type: string
          description: The visualitation of the widget
          enum:
            - 'STACKED_HORIZONTAL_BAR_CHART'
            - 'BAR_CHART'
            - 'PIE_CHART'
            - 'LINE_CHART'
            - 'VALUE_WITH_SPARKLINE'
            - 'TREE_MAP_CHART'
            - 'VALUE_CARD'
          nullable: false
        unit: 
          type: string
          description: The time unit for grouping summarizing charts
          enum:
            - 'MINUTE'
            - 'HOUR'
            - 'SHIFT'
            - 'WORKDAY'
            - 'WORKWEEK'
          nullable: false
        calc_no_shift_time:
          type: boolean
          description: if it is a summarizing visualisation calc no shift time
          default: false
          nullable: false
    
