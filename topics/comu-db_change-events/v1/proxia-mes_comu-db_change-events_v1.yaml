---
openapi: 3.0.3
info:
  title: PROXIA-MES COMU-Database Change-Events
  description: PROXIA-MES COMU-Database Change-Events
  version: '1.0.5'
paths:
  "/dummy":
    get:
      summary: a dummy request for the generator
      responses:
        '200':
          description: OK
components:
  schemas:
    #resource-statuses
    comuDbTrsResStatusChangeEvent:
      type: object
      properties: 
        before:
          $ref: '#/components/schemas/comuDbTrsResStatusColumns'
        after:
          $ref: '#/components/schemas/comuDbTrsResStatusColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTrsResStatusColumns:
      type: object
      nullable: true
      properties:
        RES_STATUS_ID:
          type: string
        RES_STATUS_GRP_ID:
          type: string
        DISPLAYNAME:
          type: string
        RES_STATUS_COLOR:
          type: string
    comuDbTrsResStatusGrpChangeEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTrsResStatusGrpColumns'
        after:
          $ref: '#/components/schemas/comuDbTrsResStatusGrpColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTrsResStatusGrpColumns:
      type: object
      nullable: true
      properties:
        RES_STATUS_GRP_ID:
          type: string
        RES_STATUS_MAINGRP_ID:
          type: string
        DISPLAYNAME:
          type: string
    comuDbTrsResStatusMainGrpChangeEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTrsResStatusMainGrpColumns'
        after:
          $ref: '#/components/schemas/comuDbTrsResStatusMainGrpColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTrsResStatusMainGrpColumns:
      type: object
      nullable: true
      properties:
        RES_STATUS_MAINGRP_ID:
          type: string
        DISPLAYNAME:
          type: string
    #resources
    comuDbTrsResChangeEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTrsResColumns'
        after:
          $ref: '#/components/schemas/comuDbTrsResColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTrsResColumns:
      type: object
      nullable: true
      properties:
        RES_ID:
          type: string
        PARENT_RES_ID:
          type: string
        PLANT_ID:
          type: string
        DISPLAYNAME:
          type: string
        RES_STATUS_ID:
          type: string
        RES_TYPE_ID:
          type: string
    comuDbTrsMachineEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTrsMachineColumns'
        after:
          $ref: '#/components/schemas/comuDbTrsMachineColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTrsMachineColumns:
      type: object
      nullable: true
      properties:
        RES_ID:
          type: string
        DESCRIPTION:
          type: string
        INVENTORY_NUMBER:
          type: string
        MANUFACTURER:
          type: string
        MACHINE_TYPE:
          type: string
        CONTROL_UNIT:
          type: string
        FACTORY_NR:
          type: string
    comuDbTrsPersEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTrsPersColumns'
        after:
          $ref: '#/components/schemas/comuDbTrsPersColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTrsPersColumns:
      type: object
      nullable: true
      properties:
        RES_ID:
          type: string
        LAST_NAME:
          type: string
        FIRST_NAME:
          type: string
        PERS_NR:
          type: string
        EMAIL:
          type: string
        HANDY_NR:
          type: string
    #orders
    comuDbTccCustomerEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTccCustomerColumns'
        after:
          $ref: '#/components/schemas/comuDbTccCustomerColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTccCustomerColumns:
      type: object
      nullable: true
      properties:
        CUSTOMER_ID:
          type: string
        DISPLAYNAME:
          type: string
    comuDbTsfCustOrderEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTsfCustOrderColumns'
        after:
          $ref: '#/components/schemas/comuDbTsfCustOrderColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTsfCustOrderColumns:
      type: object
      nullable: true
      properties:
        CUST_ORDER_ID:
          type: string
        PLAN_LIEFERDATUM:
          type: string
          format: date-time          
        DISPLAYNAME:
          type: string
        CUST_ORDER_NR:
          type: string   
    comuDbTsfFaTypeEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTsfFaTypeColumns'
        after:
          $ref: '#/components/schemas/comuDbTsfFaTypeColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTsfFaTypeColumns:
      type: object
      nullable: true
      properties:
        FA_TYPE_ID:
          type: string
        DISPLAYNAME:
          type: string
    comuDbTsfFaEvent:
      type: object
      properties:
        before:
          $ref: '#/components/schemas/comuDbTsfFaColumns'
        after:
          $ref: '#/components/schemas/comuDbTsfFaColumns'
        source:
          $ref: '#/components/schemas/source'
        op:
          $ref: '#/components/schemas/op'
        ts_ms:
          $ref: '#/components/schemas/ts_ms'
        transaction:
          $ref: '#/components/schemas/transaction'
    comuDbTsfFaColumns:
      type: object
      nullable: true
      properties:
        FA_ID:
          type: string
        FA_TYPE_ID:
          type: string
        DISPLAYNAME:
          type: string
        PLANT_ID:
          type: string
        CUSTOMER_ID:
          type: string
        BEGIN_SCHEDULED:
          type: string
          format: date-time
        END_SCHEDULED:
          type: string
          format: date-time
        PLAN_LIEFERDATUM:
          type: string
          format: date-time
        EARLIEST_BEGIN_TS:
          type: string
          format: date-time
        DESIRED_DUE_TS:
          type: string
          format: date-time
        FA_PRIORITY:
          type: string
        FA_DESCRIPTION:
          type: string
        CUST_ORDER_ID:
          type: string
                  
    # Basic-Properties      
    source:
      type: object
      properties:
        version:
          type: string
        connector:
          type: string
        name:
          type: string
        ts_ms:
          type: integer
          format: int64
        snapshot:
          type: string
        db:
          type: string
        sequence:
          type: string
          format: nullable
        schema:
          type: string
        table:
          type: string
        change_lsn:
          type: string
        commit_lsn:
          type: string
        event_serial_no:
          type: integer
          format: int32
    op:
      type: string
      enum:
        - 'c'
        - 'd'
        - 'u'
    ts_ms:
      type: integer
      format: int64
    transaction:
      type: string
      nullable: true